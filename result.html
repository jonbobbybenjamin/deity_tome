<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deity View</title>
    <link rel="stylesheet" href="style.css">
    <!-- Link Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=IM+Fell+English&family=IM+Fell+English+SC&family=Macondo&family=MedievalSharp&family=Metal+Mania&family=New+Rocker&family=Pirata+One&display=swap" rel="stylesheet">
 
</head>
<body>
    <div class="overlay-container"></div>

    <div class="container">
        
        <!-- name container-->
        <div id="name-container"></div>
        
        <!-- creature container-->
        <div class="creature-container">
            <div id="creature-display"></div>
        </div>
        
        <!-- story container -->
        <div class="story-container">
            <p id="story-text"></p>
        </div>
    </div>

    <script>
        const textMap = {
            
            head: {
                "1": "The being's head was split in twain, a maidenly visage on one side and a man's on the other.",
"2": "The god's head was ringed in a halo of arrows sunk deep into his neck.",
"3": "The deity's head was shrouded in a helmet of flowers, petals blooming at the crest.",
"4": "A horned skull served as the being's helm.",
"5": "A hood kept the god's face in shadow.",
"6": "A fool's cap wrapped the deity's head, bells jingling.",
"7": "Spiraling horns and tusked teeth gave the deity a demonic countenance.",
"8": "A beastly beaked head craned skyward on its immense neck.",
"9": "The being had a monstrous fur covered face with a beakish muzzle.",
"10": "The god's massive beard spilled from beneath a warrior's helm.",
"11": "The god had the immense head of a giant.",
"12": "A possessed wizard hovered above the apex of a toothed protrusion.",
"13": "An ancient, bark-covered visage peered out from beneath a leafy canopy.",
"14": "The horned, shaggy maned, aquatic creature leered.",
"15": "Great rocky crags and trees crowned its trollish mountain of a head.",
"16": "A bubbling cauldron of soup hung from the pinnacle of its hat.",
"17": "The floral crowned, flawless face of a nymph peered out.",
"18": "Fronds of kelp sprung from the mermaid's head, flowing in invisible currents.",
"19": "From the top of the god's head sprung a demonic growth with a wicked gaze.",
"20": "Dragon jaws spread agape, its reptilian eyes coldly observing.",
"21": "The deity had five demonic heads, writhing on long, interwoven necks.",
"22": "An impish creature in a battle helm perched atop the deity.",
"23": "The god had the visage of an ancient vampiric elder.",
"24": "The deity had the fearsome head of a giant, tusked boar.",
"25": "Goat horns adorned the god's head, its pointed ears perked upright.",
"26": "Wreaths of laurels wrapped the goddess' fur covered head.",
"27": "The war-hardened visage of a warrior queen was framed with a crown of wings.",
"28": "In place of a head grew a mighty sorcerous hand.",
"29": "The goddess had the bearing of a noblewoman, her hair covered, fine lace about her neck.",
"30": "The demon gnashed its horrible maw as it devoured the faithless.",
"31": "The god had the head of a handsome faun, its lips pursed.",
"32": "The deity had the head of an ancient corpse.",
"33": "A bountiful harvest crowned the deity's head.",
"34": "A hood shrouded the divine countenance in complete darkness.",
"35": "The deity had the wizened visage of a sorcerer.",
"36": "Where a head should be stood only a freshly severed neck, a fountain of divine blood filling the air.",
"37": "The mighty horns of the great bull's head stretched across the sky.",
"38": "Rays of divine light emanated from a vaporous cloud, an all seeing eye at its center.",
"39": "Tremble at the blazing flames bursting skyward from its neck!",
"40": "The god had the devout face of an ancient, pious elder.",
"41": "Glowing eyes peered out from the arch fey being's hood.",
"42": "The god had a stout bearded head, and thick curls of hair around its bald pate.",
"43": "The fungus lord's crown cycled through mind-altering hues.",
"44": "Behold! The magnificent horn of the sea beast pierced the clouds!",
"45": "The being's head was hidden beneath a gleaming iron helm."
                
            },
            /* - commented out, temporary - 
            torso: {
                "1": "Sturdy iron armor wrapped its broad chest.",
                "2": "A simple tunic wrapped the maidenly torso.",
                "3": "A gnarled trunk creaked as it shifted its weight.",
                "4": "Its chest was a cage, bound by dark magic, full of sacrificed souls.",
                "5": "Its core shimmered as its scales caught the light.",
                "6": "Matted fur covered its strong torso.",
                "7": "A tower, hewn from jagged stone, thrust up toward the sky.",
                "8": "A corpulent, beastly form made up its core.",
                "9": "Squinting, fluttering eyes grew and shrank, sometimes gazing directly at an enraptured follower.",
            },

            arms: {
                "1": "Gleaming gauntlets ending in god-forged spiked globes were ever ready to mete out divine punishment.",
                "2": "In the maternal grip was a divine babe, an eternal innocent being of pure joy.",
                "3": "Heaving twisted branches came down in two massive arms.",
                "4": "Weathered, hollow logs were set to its sides in the form of mishapen arms.",
                "5": "Beautiful fins sprung from its body",
                "6": "Tortured souls screamed in its demonic grip.",
                "7": "Crackling dark energy emenated all around it.",
                "8": "It's hooved arms illuminated the land with divine firelight.",
                "9": "New sprouts branched out, their gills exhaling a soup of drifting spores.",
        
            },
            legs: {
                "1": "Shining armor covered its legs and feet.",
                "2": "A radiant dress fell around it, reaching the ground.",
                "3": "Strong roots sprung from the end of its trunk.",
                "4": "A mishmash of posts and logs were constructed into makeshift legs.",
                "5": "A mighty scaled and finned tail coiled into the waves behind it.",
                "6": "Cloven hooves thundered against the ground, beastly skulls were woven into its belt.",
                "7": "The base of the tower was cut from sheer rock, impenetrable.",
                "8": "Muscly haunches, covered in bristles, quivered, and a tail flicked behind it.",
                "9": "It was mounted on a mighty war horse.",
                "10": "Its four, equine legs, glistened with sweat over their coat of fur.",
                "11": "A wild beast was its steed, its antlers spanned the sky.",
                "12": "The mighty stem grew deep in the earth, and from the center of that fleshy trunk a massive, unblinking eye saw all.",
            },
            - end comment - */

            followers: {
                "1": "Battle hardened warriors beat their chests and shouted in a mighty war call... [name]... Smite our enemies and bathe us in their blood!",
                "2": "Only a lone, dying man, hovering between this plane and the next, was ever able to perceive the deity. With his last breath he whispered... [name]...",
                "3": "A council of wizards, wands and staves aglow, gazed in awe at the towering form of [name].",
                "4": "Bickering philosophers debated the true nature of the being, asking if their imperfect minds could conceive of the perfection that is [name]?",
                "5": "A legion of soldiers in perfect formation raised their swords in salute, swearing their oath in unison... [name], we do as you command!",
                "6": "A goblin circus heralded the deity with blaring horns and pounding drums, while the barker yelled above the din... Come all, and marvel at the magnificent [name]!!!",
            },
        };

        const creatureData = JSON.parse(localStorage.getItem('creatureData')) || {};
        const storyText = document.getElementById('story-text');
        const creatureDisplay = document.getElementById('creature-display');
        const nameContainer = document.getElementById('name-container');

        // Display name or input - outdated, still displays name
        if (creatureData.name) {
            displayName(creatureData.name);
        } else {
            displayInput();
        }

        // Define the order of the parts
        const displayOrder = ['head', 'torso', 'arms', 'legs', 'followers'];

        function generateStoryText() {
            const name = creatureData.name || "Unnamed Creature";
            const songLines = displayOrder.map((key) => {
                const value = creatureData[key];
                if (value && textMap[key]?.[value]) {
                    return textMap[key][value].replace(/\[name\]/g, name);
                }
                return "";
            });
            return songLines.filter(Boolean).join(" ");
        }

        // Populate story-container with dynamic text
        storyText.textContent = generateStoryText();

        // Populate the creature display based on stored data
        const parts = [
            { key: 'additional', prefix: 'back' },
            { key: 'arms', prefix: 'backarm' },
            { key: 'legs', prefix: 'legs' },
            { key: 'torso', prefix: 'torso' },
            { key: 'head', prefix: 'head' },
            { key: 'arms', prefix: 'frontarm' },
            { key: 'followers', prefix: 'followers' },
        ];

        parts.forEach(part => {
            const value = creatureData[part.key];
            if (value) {
                const img = document.createElement('img');
                img.src = `images/${part.prefix}${value}.png`;
                img.alt = `${part.prefix}${value}`;
                creatureDisplay.appendChild(img);
            }
        });

        // Function to replace [name] placeholders with the actual name
        function replacePlaceholders(text, name) {
            return text.replace(/\[name\]/g, name);
        }


        // Display the creature name
        function displayName(name) {
            nameContainer.innerHTML = `<h3 id="creature-name">${name}</h3>`;
        }
        
    </script>
</body>
</html>
